<Patch>
    <Operation Class="XmlExtensions.OptionalPatch">
        <modId>boomer.Rebalance</modId>
        <key>fewerBodyThin</key>
        <defaultValue>false</defaultValue>
        <caseTrue>
            <Operation Class="PatchOperationReplace">
                <xpath>//BackstoryDef[bodyTypeGlobal="Thin" and not(defName="CosmeticSurgeon36" or defName="IntimateAssassin35")]/bodyTypeGlobal/text()</xpath>
                <value>Male</value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <xpath>//BackstoryDef[bodyTypeFemale="Thin"]/bodyTypeFemale/text()</xpath>
                <value>Female</value>
            </Operation>
            <Operation Class="PatchOperationReplace">
                <xpath>//BackstoryDef[bodyTypeMale="Thin"]/bodyTypeMale/text()</xpath>
                <value>Male</value>
            </Operation>
            <!-- Always female backstories -->
            <Operation Class="PatchOperationReplace">
                <xpath>//BackstoryDef[defName="CosmeticSurgeon36" or defName="IntimateAssassin35"]/bodyTypeGlobal/text()</xpath>
                <value>Female</value>
            </Operation>
        </caseTrue>
    </Operation>
</Patch>